{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amaln\\\\Desktop\\\\AMAL\\\\code\\\\locofy_project\\\\frontend\\\\src\\\\pages\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport styles from \"./LoginPage.module.css\";\nimport { useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\n\n// import { useSignup } from \"../hooks/useSignup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const nav = useNavigate();\n  const [isSignUp, setIsSignUp] = useState(false);\n  //const {signup, error, isLoading} = useSignup();\n\n  const handleSubmit = async () => {\n    const u = document.querySelector(\"#userInput\").value;\n    const p = document.querySelector(\"#passwordInput\").value;\n    if (isSignUp) {\n      try {\n        const config = {\n          headers: {\n            \"Content-type\": \"application/json\"\n          },\n          method: \"POST\",\n          body: JSON.stringify({\n            username: u,\n            password: p\n          })\n        };\n        let x = await fetch('http://localhost:5000/api/user/', config);\n        x = await x.json();\n        console.log(x);\n        localStorage.setItem('userInfo', JSON.stringify(x));\n        console.log('request sent');\n        nav(\"/\");\n      } catch (err) {\n        //use toast later \n        console.log(err);\n      }\n    } else {\n      try {\n        const config = {\n          headers: {\n            \"Content-type\": \"application/json\"\n          },\n          method: \"POST\",\n          body: JSON.stringify({\n            username: u,\n            password: p\n          })\n        };\n        //console.log(JSON.parse(JSON.stringify({username: u, password: p})));\n        let x = await fetch('http://localhost:5000/api/user/login', config);\n        x = await x.json();\n        localStorage.setItem('userInfo', JSON.stringify(x));\n        console.log('request sent');\n        nav(\"/\");\n      } catch (error) {\n        //use toast later \n        console.log(error);\n      }\n    }\n\n    //await signup(u, p);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.loginPage,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.signUpWidgetDiv,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: styles.companyLogoIcon,\n        alt: \"\",\n        src: \"../companylogo@2x.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n        className: styles.signUpB,\n        children: isSignUp ? 'Sign Up' : 'Login'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.usernameBoxDiv,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.usernameSpan,\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.usernameFieldInput,\n          id: \"userInput\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.passwordBoxDiv,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.usernameSpan,\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.usernameFieldInput,\n          id: \"passwordInput\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.signUpButton,\n        onClick: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.signUpTextDiv,\n          children: isSignUp ? 'Sign Up' : 'Login'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.redirectSpan,\n        onClick: () => {\n          setIsSignUp(!isSignUp);\n        },\n        children: isSignUp ? 'Already a member? Login here' : 'New user? Sign up here'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"QGuSIfu0+Ke9gE/7Ed7vKYik8y8=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["styles","useState","useNavigate","LoginPage","username","setUsername","password","setPassword","nav","isSignUp","setIsSignUp","handleSubmit","u","document","querySelector","value","p","config","headers","method","body","JSON","stringify","x","fetch","json","console","log","localStorage","setItem","err","error","loginPage","signUpWidgetDiv","companyLogoIcon","signUpB","usernameBoxDiv","usernameSpan","usernameFieldInput","passwordBoxDiv","signUpButton","signUpTextDiv","redirectSpan"],"sources":["C:/Users/amaln/Desktop/AMAL/code/locofy_project/frontend/src/pages/LoginPage.js"],"sourcesContent":["import styles from \"./LoginPage.module.css\";\nimport { useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\n\n// import { useSignup } from \"../hooks/useSignup\";\n\nconst LoginPage = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const nav = useNavigate();\n\n  const [isSignUp, setIsSignUp] = useState(false);\n  //const {signup, error, isLoading} = useSignup();\n\n  const handleSubmit = async () => {\n    const u = document.querySelector(\"#userInput\").value;\n    const p = document.querySelector(\"#passwordInput\").value;\n\n    if (isSignUp){\n      try {\n\n        const config = { \n          headers: {\n            \"Content-type\": \"application/json\",\n          },\n          method: \"POST\",\n          body: JSON.stringify({username: u, password: p})\n        };\n\n        let x = await fetch('http://localhost:5000/api/user/', config);\n        x = await x.json();\n\n        console.log(x);\n        localStorage.setItem('userInfo', JSON.stringify(x));\n        console.log('request sent');\n        nav(\"/\");\n      } catch(err) {\n        //use toast later \n        console.log(err);\n      }\n    } else {\n      try {\n        const config = { \n          headers: {\n            \"Content-type\": \"application/json\",\n          },\n          method: \"POST\",\n          body: JSON.stringify({username: u, password: p})\n        };\n        //console.log(JSON.parse(JSON.stringify({username: u, password: p})));\n        let x = await fetch('http://localhost:5000/api/user/login', config);\n        x = await x.json();\n        localStorage.setItem('userInfo', JSON.stringify(x));\n        console.log('request sent');\n        \n        nav(\"/\");\n      } catch(error) {\n        //use toast later \n        console.log(error);\n      }\n    }\n    \n    \n    //await signup(u, p);\n  };\n\n  \n\n  return (\n    <div className={styles.loginPage}>\n      <div className={styles.signUpWidgetDiv}>\n        <img\n          className={styles.companyLogoIcon}\n          alt=\"\"\n          src=\"../companylogo@2x.png\"\n        />\n        <b className={styles.signUpB}>{isSignUp ? 'Sign Up' : 'Login'}</b>\n        <div className={styles.usernameBoxDiv}>\n        <span className={styles.usernameSpan} >Username:</span>\n          <input className={styles.usernameFieldInput} id = \"userInput\" type=\"text\" />\n        </div>\n        <div className={styles.passwordBoxDiv}>\n          <span className={styles.usernameSpan}>Password:</span>\n          <input className={styles.usernameFieldInput} id = \"passwordInput\" type=\"text\" />\n        </div>\n        <button className={styles.signUpButton} onClick={handleSubmit}>\n          <div className={styles.signUpTextDiv}>{isSignUp ? 'Sign Up' : 'Login'}</div>\n        </button>\n        <span className={styles.redirectSpan} onClick={()=>{setIsSignUp(!isSignUp)}}>\n          {isSignUp ? 'Already a member? Login here' : 'New user? Sign up here'}\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}